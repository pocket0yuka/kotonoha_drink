<head>
  <script>
    function openEditProfileModal() {
      var modal = document.getElementById('edit_profile_modal');
      modal.showModal();
    }

    function closeEditProfileModal() {
      var modal = document.getElementById('edit_profile_modal');
      modal.close();
    }
  </script>
</head>

<div class=" min-h-screen bg-teal-50 p-4">
  <div class="bg-white p-8 shadow max-w-md flex items-end">
    <!-- アバター画像 -->
    <div class="avatar p-4 float-left">
      <div class="w-24 rounded-full">
        <%= image_tag @user.avatar.url %>
      </div>
    </div>
    <!-- ユーザー情報 -->
    <div class="p-6 text-left">
      <h2 class="text-lg text-center font-bold mb-2"><%= @user.name %></h2>
      <p class="text-sm text-gray-600 mb-4"><i class="fa-regular fa-envelope"></i> <%= @user.email %></p>
      <p class="text-sm text-gray-600"><i class="fa-solid fa-whiskey-glass"></i>+<i class="fa-regular fa-heart"></i> <%= @user.favorite_drink %></p>
    </div>
    <!-- 編集リンク -->
    <div class="p-2 text-right">
      <%= link_to "編集", "javascript:void(0);", onclick: "openEditProfileModal()" %>
      <dialog id="edit_profile_modal" class="modal">
        <div class="modal-box">
          <form method="dialog">
            <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2" onclick="closeEditProfileModal()">✕</button>
          </form>
          <%= render 'profiles/edit' %>
        </div>
      </dialog>
    </div>
  </div>
  
  <!-- アイコンメニュー -->
    <%= render "shared/profile" %>
</div>
